<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Alejandro Paez | Happy Head</title>
    <meta name="author" content="Alejandro Paez" />
    <meta name="description" content="Modular IoT safety platform for concussion detection in sports" />
    <meta name="keywords" content="IoT, embedded systems, concussion detection, sports safety, Next.js, microcontroller" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">

    <!-- Styles -->
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://apaezs.github.io/projects/3_project/">
    
    <!-- Dark Mode - Initialize theme before rendering -->
    <script>
      (function() {
        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);
      })();
    </script>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    
    <style>
      /* Project Page Layout */
      body {
        margin: 0;
        padding: 0;
        font-family: 'Courier New', monospace;
        background: white;
        color: black;
        overflow-x: hidden;
      }
      
      [data-theme="dark"] body {
        background: black;
        color: white;
      }
      
      .project-container {
        min-height: 100vh;
        padding: 4rem 2rem;
        max-width: 900px;
        margin: 0 auto;
        position: relative;
      }
      
      .project-nav {
        margin-bottom: 3rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      }
      
      [data-theme="dark"] .project-nav {
        border-bottom-color: rgba(255, 255, 255, 0.1);
      }
      
      .project-nav-links {
        display: flex;
        gap: 1.5rem;
        font-size: 1rem;
        flex-wrap: wrap;
      }
      
      .project-nav-links a {
        color: inherit;
        text-decoration: none;
        transition: opacity 0.3s;
      }
      
      .project-nav-links a:hover {
        opacity: 0.7;
      }
      
      .theme-toggle-btn {
        position: fixed;
        top: 2rem;
        right: 2rem;
        padding: 0.5rem;
        border-radius: 50%;
        background: transparent;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s;
        z-index: 1000;
        color: inherit;
      }
      
      .theme-toggle-btn:hover {
        background: rgba(0, 0, 0, 0.1);
      }
      
      [data-theme="dark"] .theme-toggle-btn:hover {
        background: rgba(255, 255, 255, 0.1);
      }
      
      .theme-toggle-btn svg {
        display: block;
      }
      
      .project-header {
        margin-bottom: 3rem;
      }
      
      .project-header h1 {
        font-size: 1.5rem;
        font-weight: normal;
        margin-bottom: 1rem;
      }
      
      .project-header p {
        font-size: 1rem;
        margin: 0;
        opacity: 0.7;
        line-height: 1.6;
      }
      
      .project-content {
        line-height: 1.8;
      }
      
      .project-content h2 {
        font-size: 1.25rem;
        font-weight: normal;
        margin-top: 3rem;
        margin-bottom: 1rem;
      }
      
      .project-content h3 {
        font-size: 1.125rem;
        font-weight: normal;
        margin-top: 2rem;
        margin-bottom: 0.75rem;
      }
      
      .project-content h4 {
        font-size: 1rem;
        font-weight: normal;
        margin-top: 1.5rem;
        margin-bottom: 0.5rem;
      }
      
      .project-content p {
        margin-bottom: 1rem;
      }
      
      .project-content ul, .project-content ol {
        margin-bottom: 1.5rem;
        padding-left: 2rem;
      }
      
      .project-content li {
        margin-bottom: 0.5rem;
      }
      
      .project-content hr {
        border: none;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        margin: 2rem 0;
      }
      
      [data-theme="dark"] .project-content hr {
        border-top-color: rgba(255, 255, 255, 0.1);
      }
      
      .project-content a {
        color: inherit;
        text-decoration: underline;
        opacity: 0.8;
        transition: opacity 0.3s;
      }
      
      .project-content a:hover {
        opacity: 1;
      }
      
      .project-content strong {
        font-weight: normal;
      }
      
      .project-content code {
        font-family: 'Courier New', monospace;
        background: rgba(0, 0, 0, 0.05);
        padding: 0.2em 0.4em;
        border-radius: 3px;
      }
      
      [data-theme="dark"] .project-content code {
        background: rgba(255, 255, 255, 0.1);
      }
      
      .project-content img {
        max-width: 100%;
        height: auto;
        margin: 1.5rem 0;
        border: 1px solid rgba(0, 0, 0, 0.1);
      }
      
      [data-theme="dark"] .project-content img {
        border-color: rgba(255, 255, 255, 0.1);
      }
      
      .project-image-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
      }
      
      @media (max-width: 768px) {
        .project-container {
          padding: 2rem 1rem;
        }
        
        .project-header h1 {
          font-size: 1.25rem;
        }
        
        .project-image-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>

  <!-- Body -->
  <body>

    <div class="project-container">
      <!-- Theme toggle button -->
      <button
        id="portfolio-theme-toggle"
        class="theme-toggle-btn"
        aria-label="Toggle theme"
      >
        <svg id="theme-icon-sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
          <circle cx="12" cy="12" r="5" />
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
        </svg>
        <svg id="theme-icon-moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
        </svg>
      </button>

      <!-- Navigation -->
      <div class="project-nav">
        <div class="project-nav-links">
          <a href="/">Home</a>
          <a href="/projects/">Projects</a>
          <a href="https://github.com/apaezs" target="_blank" rel="noopener noreferrer">GitHub</a>
          <a href="mailto:apaezsansonetti@ufl.edu">Email</a>
          <a href="https://www.linkedin.com/in/alejandropaezs" target="_blank" rel="noopener noreferrer">LinkedIn</a>
        </div>
      </div>

      <!-- Header -->
      <div class="project-header">
        <h1>Happy Head</h1>
        <p>Modular IoT safety platform for concussion detection in sports</p>
      </div>

      <!-- Content -->
      <div class="project-content">
        <img src="/assets/img/happy.jpg" alt="Happy Head" style="width: 100%; max-width: 600px; margin: 0 auto; display: block; margin-bottom: 2rem;">

        <h2 id="awards">Awards</h2>
        <ul>
          <li><strong>ShellHacks 2025 - Best First-Time Hacker</strong> (INIT ShellHacks 2025, Sep 2025)</li>
        </ul>

        <hr>

        <h2 id="inspiration">Inspiration</h2>
        <p>Happy Head was inspired because half of the team has had concussions in the past and one of us received one as recently as last week in which he continued to play in his sport half-conscious for 20 minutes following the hit. This inspired us to see what we could do about concussion safety as engineers and make sure that concussions that may have gone unseen are detected.</p>

        <hr>

        <h2 id="what-it-does">What it does</h2>
        <p>Happy Head monitors acceleration data inside of player's helmets/equipment and will display certain emojis, send data to database utilizing USART, and give text-to-speech based on the acceleration the player experiences in an effort for coaches, athletes, and medical staff to become more aware of potentially concussive collisions. Happy Head also stores this information along with timestamps in a database that can be looked through on a website after the game is over for future review of plays.</p>

        <hr>

        <h2 id="how-we-built-it">How we built it</h2>
        <p>We built this by integrating hardware sensors, embedded programming, data communication systems, a camera, computer vision, and a web application. Our design starts with a Texas Instruments Launchpad microcontroller in which we interfaced with a BMI160 IMU using I2C protocol to use its accelerometer and gyroscope. It also interfaces with a LCD TFT panel using SPI which draws a happy face sprite until a concussive hit is detected. At the same time the system uses USART communication to transmit the magnitude of the X, Y, and Z axis acceleration and the magnitude of the X, Y, and Z angular velocity to a computer which logs the data into a central database. If the value of either passes the threshold of a concussive hit then a text-to-speech alert is triggered ensuring that coaches and medical staff are alerted immediately and the LCD panel will draw a crying face animation.</p>

        <p>The website was built using the Next.js framework with supabase for the database. The frontend displays custom tables and charts using TanStack and Recharts to allow for dynamic, customizable filtering and sorting of data. Prisma was used as the orm to ensure type safe reading and writing from the postgreSQL database. The computer vision component was built using a camera, openCV, and mediapipe's FaceMesh detection. Collisions were detected by checking for overlapping heads on all 3 axes and videos of each collision were saved.</p>

        <hr>

        <h2 id="challenges-we-ran-into">Challenges we ran into</h2>
        <p>One of the biggest challenges that we ran into on this project was communication as we had many different devices talk to each other with different protocols and performing their own processing of data. Interfacing our embedded system with a web application was also a challenge for our team as it was new to us and we are accustomed to using low level languages, especially with regards to wirelessly sending data from our microcontroller to the web application. Another challenge that we ran into was testing our project as we had some hardware break on us and we had to replace it and change our approaches.</p>

        <hr>

        <h2 id="accomplishments-that-were-proud-of">Accomplishments that we're proud of</h2>
        <p>We are proud of being able to have such a well interconnected system for such a low level project. As first time hackers we were very proud of being able to see how we could take data from a microcontroller and be able to have it make its way to a website that anyone could see.</p>

        <hr>

        <h2 id="what-we-learned">What we learned</h2>
        <p>During this project we really got a chance to learn more about how to go about data logging and its intricacies. The project also really gave us a chance to work on our system design as we had many different systems at play and had to parallelize a lot of our workload.</p>

        <hr>

        <h2 id="whats-next-for-happy-head">What's next for Happy Head</h2>
        <p>On the hardware side we would optimize by designing ASIC's that are much smaller, lighter, wireless, and practical for athletes in live play. We would incorporate Bluetooth or Wi-Fi to eliminate the need for wired USART. On the data science side, the biggest expansion for this project would be the large amount of data we could collect on concussions relatively easily if these systems were used by a large amount of platers. The collected acceleration and gyroscope data could be correlated to diagnosed concussions allowing us to make much more advanced AI models for athletes. On the web app, we would expand by allowing medical staff to tag clips with notes, generate automated reports, and integrate with existing athlete health records. In practices maybe this can be used to identify patterns such as certain drills, positions, or plays that correlate with higher concussion risk. These expansions would help transform Happy Head from a monitoring prototype into a complete IoT prevention ecosystem protecting athletes of all types.</p>

        <hr>

        <h2 id="built-with">Built With</h2>
        <p>accelerometer, c, camera, gyroscope, i2c, lcd, led, mediapipe, microcontroller, next.js, opencv, postgresql, prisma, python, react, spi, sql, supabase, ti-launchpad, typescript, uart</p>

        <hr>

        <h2 id="try-it-out">Try it out</h2>
        <ul>
          <li><strong>GitHub Repo:</strong> <a href="https://github.com/apaezs/HappyHead" target="_blank" rel="noopener noreferrer">https://github.com/apaezs/HappyHead</a></li>
          <li><strong>Website:</strong> <a href="https://happy-head.vercel.app" target="_blank" rel="noopener noreferrer">https://happy-head.vercel.app</a></li>
        </ul>
      </div>

    </div>

    <!-- Theme Toggle Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const themeToggle = document.getElementById('portfolio-theme-toggle');
        const sunIcon = document.getElementById('theme-icon-sun');
        const moonIcon = document.getElementById('theme-icon-moon');
        
        function updateThemeIcon() {
          if (!sunIcon || !moonIcon) return;
          
          const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
          if (isDark) {
            sunIcon.style.display = 'block';
            moonIcon.style.display = 'none';
          } else {
            sunIcon.style.display = 'none';
            moonIcon.style.display = 'block';
          }
        }
        
        if (themeToggle) {
          themeToggle.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            const currentTheme = localStorage.getItem('theme') || document.documentElement.getAttribute('data-theme') || 'dark';
            
            try {
              if (typeof toggleTheme === 'function') {
                toggleTheme(currentTheme);
              } else {
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
              }
            } catch (error) {
              const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
              document.documentElement.setAttribute('data-theme', newTheme);
              localStorage.setItem('theme', newTheme);
            }
            
            setTimeout(updateThemeIcon, 150);
          });
          
          updateThemeIcon();
          
          const observer = new MutationObserver(function() {
            updateThemeIcon();
          });
          observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['data-theme']
          });
        }
      });
    </script>

  </body>
</html>
